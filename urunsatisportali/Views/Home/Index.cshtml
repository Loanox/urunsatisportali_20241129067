@model List<urunsatisportali.Models.Product>
@{
    ViewData["Title"] = "Ana Sayfa";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="row">
    <div class="col-lg-12">
        <div class="card overflow-hidden">
            <div class="row g-0">
                <div class="col-xl-6">
                    <img src="~/assets/images/products/img-1.png" alt="" class="img-fluid w-100 h-100 object-fit-cover"
                        style="max-height: 400px; object-position: center;">
                </div>
                <div class="col-xl-6">
                    <div class="card-body h-100 d-flex flex-column justify-content-center p-5">
                        <h1 class="card-title display-4 mb-4">Ürün Satış Portalına Hoş Geldiniz</h1>
                        <p class="card-text text-muted mb-4 lead">Kaliteli ürünlerimizi keşfedin. Güvenilir alışveriş
                            deneyimi için doğru adrestesiniz.</p>
                        <div>
                            <a href="@Url.Action("Index", "Shop")" class="btn btn-primary btn-lg">Alışverişe Başla <i
                                    class="ri-arrow-right-line ms-1"></i></a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="row mt-5">
    <div class="col-12">
        <h3 class="mb-4">Kategorilere Göz Atın</h3>
    </div>
</div>

<div class="row mb-5 g-3">
    @if (ViewBag.FeaturedCategories != null)
    {
        foreach (var cat in (IEnumerable<urunsatisportali.Models.Category>)ViewBag.FeaturedCategories)
        {
            <div class="col-md-3 col-sm-6">
                <div class="card bg-light bg-opacity-50 text-center h-100 border-0 shadow-sm">
                    <div class="card-body p-4">
                        <div class="avatar-md mx-auto mb-3">
                            <div class="avatar-title bg-primary-subtle text-primary rounded-circle fs-24">
                                <i class="ri-store-2-line"></i>
                            </div>
                        </div>
                        <h5 class="mb-0"><a href="@Url.Action("Index", "Shop", new { categoryId = cat.Id })"
                                class="text-body stretched-link">@cat.Name</a></h5>
                    </div>
                </div>
            </div>
        }
    }
</div>

<div class="row mt-5">
    <div class="col-12">
        <h3 class="mb-4">Yeni Ürünler</h3>
    </div>
</div>

<!-- Product Grid -->
<div class="row row-cols-1 row-cols-md-2 row-cols-xl-4 g-4">
    @foreach (var item in Model)
    {
        <div class="col">
            <div class="card explore-box card-animate h-100">
                <div class="explore-place-bid-img">
                    @{
                        var firstImg = item.Images?.FirstOrDefault()?.ImageUrl;
                        var displayImg = !string.IsNullOrEmpty(firstImg) ? firstImg : "~/assets/images/products/img-" + (new
                        Random().Next(1, 6)) + ".png";
                    }
                    <img src="@Url.Content(displayImg)" alt="" class="card-img-top explore-img"
                        style="height: 200px; object-fit: cover;" />
                    <div class="bg-overlay"></div>
                    <div class="place-bid-btn">
                        <a href="@Url.Action("Details", "Shop", new { id = item.Id })" class="btn btn-success"><i
                                class="ri-eye-line align-bottom me-1"></i> Detayları Gör</a>
                    </div>
                </div>
                <div class="card-body">
                    <h5 class="mb-1"><a href="@Url.Action("Details", "Shop", new { id = item.Id })">@item.Name</a></h5>
                    <p class="text-muted mb-0">@item.Brand</p>
                </div>
                <div class="card-footer border-top border-top-dashed">
                    <div class="d-flex align-items-center">
                        <div class="flex-grow-1">
                            <h5 class="text-primary mb-0">@item.Price.ToString("C2")</h5>
                        </div>
                        <div class="flex-shrink-0">
                            <i class="ri-star-fill text-warning align-bottom"></i> 5.0
                        </div>
                    </div>
                </div>
            </div>
        </div>
    }
</div>
